{"version":3,"file":"coursegoals.min.js","sources":["../src/coursegoals.js"],"sourcesContent":["import ModalForm from 'core_form/modalform';\nimport {get_string as getString} from 'core/str';\nimport Notification from 'core/notification';\n\nexport const initCourseGoalsTab = (parentelement) => {\n    try {\n        /* Move the widget to the header area */\n        let cg_tab = document.querySelector(\"#cg_goals_tab\");\n        let cg_parentnodes = parentelement.split(',');\n        for (let i in cg_parentnodes) {\n            let cg_pageheader = document.querySelector(cg_parentnodes[i]);\n            if (cg_pageheader) {\n                cg_pageheader.appendChild(cg_tab);\n                break;\n            }\n        }\n\n        let cg_details_id = \"cg_details_maintab\";\n        let cg_details_node = document.getElementById(cg_details_id);\n\n        let cg_localDetailsAreOpen = window.localStorage.getItem(\"details-\" + cg_details_id);\n        if (cg_localDetailsAreOpen == \"true\" || cg_localDetailsAreOpen == null) {\n            cg_details_node.setAttribute(\"open\", \"true\");\n        }\n\n        cg_tab.style.display = \"block\";\n\n        cg_details_node.addEventListener(\"toggle\", function(e){\n            let isOpen = event.target.getAttribute(\"open\");\n            window.localStorage.setItem(\"details-\" + cg_details_id, typeof(isOpen) === \"string\" ? \"true\" : \"false\");\n        });\n    }\n    catch (ignore) {}\n};\n\n"],"names":["_modalform","_interopRequireDefault","_notification","parentelement","cg_tab","document","querySelector","cg_parentnodes","split","i","cg_pageheader","appendChild","cg_details_id","cg_details_node","getElementById","cg_localDetailsAreOpen","window","localStorage","getItem","setAttribute","style","display","addEventListener","e","isOpen","event","target","getAttribute","setItem","ignore"],"mappings":"uUAAAA,WAAAC,uBAAAD,YAEAE,cAAAD,uBAAAC,2CAEkC,SAACC,eAC3B,IAEA,IAAIC,OAASC,SAASC,cAAc,iBAChCC,eAAiBJ,cAAcK,MAAM,KACzC,IAAK,IAAIC,KAAKF,eAAgB,CACtBG,IAAAA,cAAgBL,SAASC,cAAcC,eAAeE,IAC1D,GAAIC,cAAe,CACfA,cAAcC,YAAYP,QAC1B,KACH,CACJ,CAEGQ,IACAC,gBAAkBR,SAASS,eADX,sBAGhBC,uBAAyBC,OAAOC,aAAaC,QAAQ,8BAC3B,QAA1BH,wBAA8D,MAA1BA,wBACpCF,gBAAgBM,aAAa,OAAQ,QAGzCf,OAAOgB,MAAMC,QAAU,QAEvBR,gBAAgBS,iBAAiB,UAAU,SAASC,GAC5CC,IAAAA,OAASC,MAAMC,OAAOC,aAAa,QACvCX,OAAOC,aAAaW,QAAQ,6BAA+C,iBAAZJ,OAAuB,OAAS,QAClG,GACJ,CACD,MAAOK,QAAU,CACpB"}